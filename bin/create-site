#!/usr/bin/env bash
#
# Description:
#   Run the project's `create-site` command inside the Docker Compose
#   `shell` service. This executes the command in the container using
#   the current user's UID so generated files are owned by the invoking
#   user.
#
# Usage:
#   bin/create-site [ARGS...]
#
# Any arguments provided are forwarded directly to the `create-site`
# command inside the container.

set -euo pipefail

COMPOSE_FILE="docker-compose.yml"

exec docker compose -f "$COMPOSE_FILE" run --rm -u "$(id -u)" --entrypoint create-site shell "$@"
