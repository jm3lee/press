#!/bin/bash
#
# Description:
#   Remove the specified build directories and then invoke
#   `make` with the same arguments. This is useful when
#   you want to force a clean rebuild of one or more targets.
#
# Usage:
#   remake [TARGETS...]
#
# Example:
#   remake build webp
#
# Each argument is recursively deleted with `rm -rf` before
# delegating to `make` so the build artifacts are regenerated
# from scratch.

ROOT="$(cd "$(dirname "$0")/.." && pwd)"
# shellcheck source=app/shell/sh/lib.sh
source "$ROOT/app/shell/sh/lib.sh"

rm -rf "$@"
press_make "$@"
