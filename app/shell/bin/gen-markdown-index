#!/usr/bin/env python3

import sys

import yaml
from xmera.utils import read_json

index = read_json(sys.argv[1])
for key, item in sorted(index.items(), key=lambda x: x[1]["name"]):
    name = item["name"]
    url = item["url"]
    icon = item.get("icon")
    if icon:
        print(f"- [{icon} {name}]({url})")
    else:
        print(f"- [{name}]({url})")
